<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="form-laudo">
                <div class="row">
                    <div class="col-sm-6">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Selecione o Chamado</mat-label>
                            <mat-select  [(ngModel)]="laudo.chamadoId" name="chamadoId" [formControl]="chamadoId" [disabled]="disableChamadoSelect" [(value)]="laudo.chamadoId" (selectionChange)="selectChamado(laudo.chamadoId)" required>
                                <mat-option *ngFor="let chamado of chamados"  value="{{ chamado.id }}" >
                                {{chamado.nomePaciente}} - {{chamado.nomeClinica}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-6">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Abertura</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.dataAbertura" name="dataAbertura" matInput >
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Paciente</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.nomePaciente" name="nomePaciente" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Responsável do paciente</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.responsavelPaciente" name="responsavelPaciente" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Idade</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.idade" name="idade" matInput >
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Clinica</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.nomeClinica" name="nomeClinica" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Médico Requerente</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.medicoRequerente" name="medicoRequerente" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>CRMV</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.crmv" name="crmv" matInput >
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Gênero</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.sexo" name="sexo" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Raça</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.raca" name="raca" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Espécie</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.especie" name="especie" matInput >
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Data de Nascimento</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.dataNascimento" name="dataNascimento" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Data do Estudo</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.dataEstudo" name="dataEstudo" matInput >
                        </mat-form-field>
                    </div>

                    <div class="col-sm-4">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Região do exame</mat-label>
                            <input [disabled]="true" [(ngModel)]="chamado.regiaoExame" name="regiaoExame" matInput >
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label>Observações</mat-label>
                            <textarea matInput [disabled]="true" [(ngModel)]="chamado.observacoes" name="observacoes"></textarea>
                        </mat-form-field>
                    </div>
                </div>

                <div class="row" *ngIf="chamado.imagens && chamado.imagens.length > 0">
                    <div class="col-sm-12">
                        <div>
                            <h3>Imagens</h3> <br>
                        </div>
                    </div>
                    <div class="col-sm-3" *ngFor="let img of chamado.imagens">
                        <mat-card class="card">
                            <img mat-card-image src="{{img}}" alt="Foto do laudo">
                            <mat-card-actions>
                              <button mat-button (click)="ampliarImagem(img)">Ampliar</button>
                            </mat-card-actions>
                          </mat-card>
                    </div>

                </div>

            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <h1 class="full-width">
                Preencher Laudo
            </h1>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <div class="form-laudo">
                <div class="row">
                    <div class="col-sm-6">
                        <form class="form">
                            <mat-form-field class="full-width descricao" appearance="outline">
                                <mat-label>Projeções</mat-label>
                                <textarea [(ngModel)]="laudo.projecoes" name="projecoes" [formControl]="projecoes" required matInput placeholder="Ex. trovar bateria de notebook queimada..."></textarea>
                            </mat-form-field>
                        </form>
                    </div>
                    <div class="col-sm-6">
                        <form class="form">
                            <mat-form-field class="full-width descricao" appearance="outline">
                                <mat-label>Achados Radiográficos</mat-label>
                                <textarea [(ngModel)]="laudo.achadosRadiograficos" name="achadosRadiograficos" [formControl]="achadosRadiograficos" required matInput placeholder="Ex. trovar bateria de notebook queimada..."></textarea>
                            </mat-form-field>
                        </form>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <form class="form">
                            <mat-form-field class="full-width descricao" appearance="outline">
                                <mat-label>Impressões Diagnósticasa</mat-label>
                                <textarea [(ngModel)]="laudo.impressoesDiagnosticas" name="impressoesDiagnosticas" [formControl]="impressoesDiagnosticas" required matInput placeholder="Ex. trovar bateria de notebook queimada..."></textarea>
                            </mat-form-field>
                        </form>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12 text-right">
                        <button class="mr-3" (click)="update()" [disabled]="!validaCampos()" mat-raised-button color="primary">Editar laudo</button>
                        <button routerLink="../../" mat-raised-button color="warn">Voltar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>